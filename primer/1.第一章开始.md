## 第一章 开始
### 1.1 编写一个简单的C++程序
- C++程序包含一个或多个函数(function)，其中一个必须命名为main。
- 一个函数包括四部分：
   - 返回类型 (return type)
   - 函数名 (function name)
   - 形参列表 (parameter list)
   - 函数体 (function body)
```cpp
int main()
{
    return 0;
}
//返回类型int，函数名main，形参列表()，函数体{}
```
#### 1.1.1 编译、运行程序
##### 程序源文件命名约定
- 常见源文件后缀：.cc .cxx .cpp .cp .C

##### 从命令行运行编译器
- 略，有机会再学习
### 1.2 初识输入输出
- iostream库
  - istream 输入流类型
  - ostream 输出流类型
##### 标准输入输出对象
- cin 标准输入(standard input)
- cout 标准输出 (standard output)
- cerr 标准错误 (standard error) 输出警告和错误信息
- clog 一般信息 输出程序运行时的一般信息
##### 一个使用IO库的程序
```cpp
#include <iostream> //#include 指令:告诉编译器，需使用头文件（header）iostream库
int main()
{
    std::cout << "Enter two numbers:" << std::endl; //提示用户输入两个数
    int v1 = 0, v2 = 0;                             //保存我们读入的输入数据的变量
    std::cin >> v1 >> v2;                           //读取输入数据
    std::cout << "The sum of " << v1 << " and " << v2
              << " is " << v1 + v2 << std::endl;
    return 0;
}
```
##### 向流写入数据
- <<运算符（<<operator）输出运算符。
  - 将右侧运算对象的值写到左侧运算对象表示的输出流,输出运算符可以连接
- endl操纵符：结束当前行，并将设备关联的缓冲区中的内容刷到设备中
#####  使用标准库中的名字
- 命名空间名::对象名
  - std::cout
  - std::cin
  - std::endl
##### 从流读取数据
- \>>运算符（>>operator）输入运算符。
  - 从左侧运算对象所指定的输入流读取数据，存入右侧运算对象中,输入运算符可以连接
##### 完成程序（略）
### 1.3 注释
#####  C++注释种类
- 双斜杠//和注释界定符/* */
##### 注释界定符不能嵌套
### 1.4 控制流
#### 1.4.1 while语句
- while statement 重复执行直至特定条件为假。循环体会执行零次或多次，依赖于循环条件求值结果。
```cpp
int sum = 0, val = 1;
while (val <= 10) //重复执行循环体，直至val大于10
{
    sum += val; //将sum+val赋值给sum
    ++val;      //将val+1赋值给val
}
```
#### 1.4.2 for 语句
- for statement 提供重复执行能力。通常用来将一个计算反复执行指定次数。
```cpp
int sum = 0;
for (int val = 1; val <= 10; ++val) //从1加到10
{
    sum += val; //将sum+val赋值给sum
}
```
#### 1.4.3 读取数量不定的输入数据
```cpp
int sum = 0, value = 0;
while (cin >> value)
    sum += value; //将sum+val赋值给sum
// windows系统文件结束符ctrl+z，enter;linux系统文件结束符ctrl+d
//返回的cin对象无效指遇到文件结束符（end-of-file）或无效输入
```
##### *编译器检查程序错误*
- *语法错误（syntax error）*
- *类型错误（type error）*
- *声明错误（declaration error）*
  - *每个名字都要先声明后使用*
#### 1.4.4 if 语句
- if statement 根据一个特定条件的值进行条件执行的语句。如果条件为真，执行if语句体。否则，执行else语句体（如果存在的话）。
```cpp
int currVal = 0, val = 0; // currVal是我们正在统计的数；我们将读入的新值存入val
//读取第一个数，并确保实有数据可以处理
if (cin >> currVal)
{
    int cnt = 1; //保存我们正在处理的当前值的个数
    while (cin >> val)
    {                       //读取剩余的数
        if (val == currVal) //如果值相同
            ++cnt;          // cnt自加1
        else
        { //否则，打印前一个值得个数
            cout << currVal << " occurs "
                 << cnt << " times" << endl;
            currVal = val; //记住新值
            cnt = 1;       //重置计数器
        }
    } // while循环在这里结束
    //记住打印文件中最后一个值得个数
    cout << currVal << " occurs "
         << cnt << " times" << endl;
} //最外层的if语句在这里结束
```
### 1.5 类简介
#### 1.5.1 Sales_item类
##### 读写Sales_item
##### Sales_item对象的加法
```cpp
#include <iostream>
#include "Sales_item.h"
using namespace std;
int main()
{
    Sales_item book1; //声明变量，并调用无参数构造函数
    //读入ISBN号，售出的册数以及销售价格
    cin >> book1;
    Sales_item book2 = Sales_item(); //调用无参构造函数
    //读入ISBN号，售出的册数以及销售价格
    cin >> book2;
    Sales_item book3("0-201-70353-X");       //调用一个参数构造函数
    Sales_item book4("0-201-70353-X", 2);    //调用二个参数构造函数
    Sales_item book5("0-201-70353-X", 2, 3); //调用三个参数构造函数
    Sales_item book6 = Sales_item(cin);       //读入ISBN号，售出的册数以及销售价格
    Sales_item book7();                      //声明函数，而不是调用无参构造函数
    //写出ISBN号，售出的册数、总销售额以及平均价格
    cout << book6 + book1 + book2 + book3 + book4 + book5 + book7() << endl;
    return 0;
}
Sales_item book7()
{
    Sales_item book;
    cin >> book;
    return book;
}
```
```cpp
//Sales_item.h
#ifndef Sales_item_H
#define Sales_item_H
#include <iostream>
#include <string>
using namespace std;
class Sales_item
{
private:                //私有数据成员
    string isbn;        //书的ISBN号
    unsigned unitsSold; //售出数量（本）
    double revenue;     //销售总价
public:                 //外部接口
                        //带默认值的构造函数，相当于4次重载:无参数，1参数，2参数，3参数
    Sales_item(string isbn = "", unsigned unitsSold = 0, double price = 0.0)
        : isbn(isbn), unitsSold(unitsSold)
    {
        revenue = price * unitsSold;
    }
    Sales_item(istream &is) { is >> *this; }                             //重载构造函数，用构造函数读入输入流
    Sales_item &operator+=(const Sales_item &s);                          //重载+=运算符
    friend istream &operator>>(istream &in, Sales_item &s);              //用友元函数重载>>运算符
    friend ostream &operator<<(ostream &is, const Sales_item &s);        //用友元函数重载<<运算符
    friend bool operator==(const Sales_item &lhs, const Sales_item &rhs); //友元函数可以访问私有数据成员
    double avgPrice() const                                             //求平均售价
    {
        if (unitsSold) //如果数量不为0，返回平均值
            return revenue / unitsSold;
        else //如果数量为0,返回0.0
            return 0.0;
    }
    bool sameIsbn(const Sales_item &s) //比较ISBN是否相等
    {
        return isbn == s.isbn;
    }
};
Sales_item operator+(const Sales_item &lhs, const Sales_item &rhs); //声明重载+运算符
istream &operator>>(istream &in, Sales_item &s)                   //实现重载>>运算符，返回左值，返回类型使用引用
{
    double price = 0;                     //定义单价
    in >> s.isbn >> s.unitsSold >> price; //输入流ISBN，数量，单价
    if (in)                               //如果输入流有效，计算总价
        s.revenue = s.unitsSold * price;
    else //否则，将无参数构造函数赋值给s
        s = Sales_item();
    return in; //返回左值
}
ostream &operator<<(ostream &is, const Sales_item &s) //实现重载<<运算符，返回左值，返回类型使用引用
{
    is << s.isbn << "\t" << s.unitsSold << "\t" << s.revenue << "\t" << s.avgPrice(); //输出几个值
    return is;                                                                        //返回左值
}
bool operator==(const Sales_item &lhs, const Sales_item &rhs) //声明并实现重载==运算符
{                                                           //全等为真，否则为假
    return lhs.unitsSold == rhs.unitsSold && lhs.isbn == rhs.isbn && lhs.revenue == rhs.revenue;
}
bool operator!=(const Sales_item &lhs, const Sales_item &rhs) //声明并实现重载!=运算符
{
    return !(lhs == rhs); //利用重载的==运算符
}
Sales_item &Sales_item::operator+=(const Sales_item &s) //实现重载+=运算符
{
    unitsSold += s.unitsSold;
    revenue += s.revenue;
    return *this; //返回左值
}
Sales_item operator+(const Sales_item &lhs, const Sales_item &rhs) //实现重载+运算符
{
    Sales_item ret(lhs); //利用构造函数创建对象
    return ret += rhs;  //调用重载的+=运算符
}
#endif
```
#### 1.5.2 初识成员函数
##### 什么是成员函数？
```c++
#include <iostream>
#include "Sales_item.h"
using namespace std;
int main()
{
    Sales_item book1, book2; //声明变量，并调用无参数构造函数
    //读入ISBN号，售出的册数以及销售价格
    cin >> book1 >> book2;
    //检查是否是相同书籍
    if (book1.sameIsbn(book2)) //调用samIsbn函数
    {
        cout << book1 + book2 << endl;
        return 0; //表示成功
    }
    else
    {
        cerr << "Data must refer to same ISBN" << endl;
        return -1; //表示失败
    }
}
```
### 1.6 书店程序
```cpp
#include <iostream>
#include "Sales_item.h"
using namespace std;
int main()
{
    Sales_item total; //保存下一条交易记录点变量
    //读入第一条交易记录，并确保有数据可以处理
    if (cin >> total)
    {
        Sales_item trans; //保存和的变量
        //读入并处理剩余交易记录
        while (cin >> trans)
        {
            //如果我们仍在处理相同的书
            if (total.sameIsbn(trans))
                total += trans; //更新总销售额
            else
            {
                //打印前一本书的结果
                cout << total << endl;
                total = trans; //total现在表示下一本书的销售额
            }
        }
        cout << total << endl; //打印最后一本书的结果
    }
    else
    {
        //没有输入！警告读者
        cerr << "No data?!" << endl;
        return -1; //表示失败
    }
    return 0;
}
```
### 术语表
- `参数（实参，argument`）向函数传递的值。赋值（assignment）抹去一个对象的当前值，用一个新值取代之。
- `程序块（block）`零条或多条语句的序列，用花括号包围。
- `缓冲区（buffer）`一个存储区域，用于保存数据。IO设施通常将输入（或输出）数据保存在一个缓冲区中，读写缓冲区的动作与程序中的动作是无关的。我们可以显式地刷新输出缓冲，以便强制将缓冲区中的数据写入输出设备。默认情况下，读cin会刷新cout；程序非正常终止时也会刷新cout。
- `内置类型（built-in type）`由语言定义的类型，如int。
- `Cerr `一个ostream对象，关联到标准错误，通常写入到与标准输出相同的设备。默认情况下，写到cerr的数据是不缓冲的。cerr通常用于输出错误信息或其他不属于程序正常逻辑的输出内容。
- `字符串字面值常量（character string literal）`术语 string literal的另一种叫法。
- `cin`一个istream对象，用来从标准输入读取数据。
- `类（class）`一种用于定义自己的数据结构及其相关操作的机制。类是C++中最基本的特性之一。标准库类型中，如istream和ostream都是类。
- `类类型（class type`）类定义的类型。类名即为类型名。
- `clog`一个ostream对象，关联到标准错误。默认情况下，写到clog的数据是被缓冲的。c1og通常用于报告程序的执行信息，存入一个日志文件中。
- `注释（comment）`被编译器忽略的程序文本。C++有两种类型的注释：单行注释和界定符对注释。单行注释以//开始，从//
到行尾的所有内容都是注释。界定符对注释以/\*开始，其后的所有内容都是注释，直至遇到\*/为止。
- `条件（condition）`求值结果为真或假的表达式。通常用值0表示假，用非零值表示真。
- `cout`一个 ostream 对象，用于将数据写入标准输出。通常用于程序的正常输出内容。
- `花括号（curly brace）`花括号用于划定程序块边界。左花括号（{）为程序块开始，右花括号（}）为结束。
- `数据结构（data structure）`数据及其上所允许的操作的一种逻辑组合。
- `编辑-编译-调试（edit-compile-debug）`使程序能正确执行的开发过程。
- `文件结束符（end-of-file）`系统特定的标识，指出文件中无更多数据了。
- `表达式（expression）`最小的计算单元。一个表达式包含一个或多个运算对象，通常还包含一个或多个运算符。表达式求值会产生一个结果。例如，假设i和j是int对象，则i+j是一个表达式，它产生两个int值的和。
- `for 语句（for statement）`迭代语句，提供重复执行能力。通常用来将一个计算反复执行指定次数。
- `函数（function`）具名的计算单元。
- `函数体（function body`）语句块，定义了函数所执行的动作。
- `函数名（function name）`函数为人所知的名字，也用来进行函数调用。
- `头文件（header）`使类或其他名字的定义可被多个程序使用的一种机制。程序通过
- `#include`指令使用头文件。
- `if语句（if statement）`根据一个特定条件的值进行条件执行的语句。如果条件为真，执行if语句体。否则，执行else语句体（如果存在的话）。
- `初始化（initialize）`在一个对象创建的时候赋予它一个值。
- `iostream`头文件，提供了面向流的输入输出的标准库类型。
- `istream`提供了面向流的输入的库类型。
- `库类型（library type）`标准库定义的类型，如istream。
- `main`操作系统执行一个C++程序时所调用的函数。每个程序必须有且只有一个命名为main的函数。
- `操纵符（manipulator）`对象，如std:endl，在读写流的时候用来“操纵”流本身。
- `成员函数（member function）`类定义的操作。通常通过调用成员函数来操作特定对方法（method）成员函数的同义术语。
- `命名空间（namespace）`将库定义的名字放在一个单一位置的机制。命名空间可以帮助避免不经意的名字冲突。C++标准库定义的名字在命名空间std中。
- `ostream`标准库类型，提供面向流的输出。
- `形参列表（parameter list）`函数定义的一部分，指出调用函数时可以使用什么样的实参，可能为空列表。
- `返回类型（return type）`函数返回值的类型。
- `源文件（source file）`包含C++程序的文件。标准错误（standard error）输出流，用于报告错误。标准输出和标准错误通常关联到程序执行所在的窗口。
- `标准输入（standard input`）输入流，通常与程序执行所在窗口相关联。
- `标准库（standard library）`一个类型和函数的集合，每个C+编译器都必须支持。标准库提供了支持I0操作的类型。C++程序员倾向于用“库”指代整个标准库，还倾向于用库类型表示标准库的特定部分，例如用“iostream库”表示标准库中定义10类的部分。
- `标准输出（standard output）`输出流，通常与程序执行所在窗口相关联。
- `语句（statement）`程序的一部分，指定了当程序执行时进行什么动作。一个表达式接一个分号就是一条语句；其他类型的语句包括语句块、if语句、for 语句和while语句，所有这些语句内都包含其他语句。
- `std `标准库所使用的命名空间。std:：cout表示我们要使用定义在命名空间std中的名字cout。
- `字符串常量（string literal）`零或多个字符组成的序列，用双引号包围（"a string literal"）。
- `未初始化的变量（uninitialized variable）`未赋予初值的变量。类类型的变量如果未指定初值，则按类定义指定的方式进行初始化。定义在函数内部的内置类型变量默认是不初始化的，除非有显式的初始化语句。试图使用一个未初始化变量的值是错误的。未初始化变量是bug的常见成因。
- `变量（variable）`具名对象。
- `while 语句（while statement）`迭代语句，提供重复执行直至一个特定条件为假的机制。循环体会执行零次或多次，依赖于循环条件求值结果。
- `()运算符（()operator）`调用运算符。跟随在函数名之后的一对括号“0”，起到调用函数的效果。传递给函数的实参放置在括号内。
- `++运算符（++operator）`递增运算符。将运算对象的值加1，++i等价于i=i+1。
- `+=运算符（+=operator）`复合赋值运算符，将右侧运算对象加到左侧运算对象上；a+=b等价于a=a+b。
- `.运算符（.operator）`点运算符。左侧运算对象必须是一个类类型对象，右侧运算对象必须是此对象的一个成员的名字。运算结果即为该对象的这个成员。
- `:运算符（:operator）`作用域运算符。其用处之一是访问命名空间中的名字。例如，std:cout 表示命名空间std中的名字cout。
- `=运算符（=operator）`将右侧运算对象的值赋予左侧运算对象所表示的对象。
- `-运算符（-operator）`递减运算符。将运算对象的值减1，--i等价于i=i-1。
- `<<运算符（<<operator）`输出运算符。将右侧运算对象的值写到左侧运算对象表示的输出流：cout<<"hi"表示将hi写到标准输出。输出运算符可以连接：cout<<"hi"<<"bye"表示将输出hibye。
- `>>运算符（>>operator）`输入运算符。从左侧运算对象所指定的输入流读取数据，存入右侧运算对象中：cin>>i表示从标准输入读取下一个值，存入i中。输入运算符可以连接：cin>>i>>j表示先读取一个值存入i，再读取一个值存入j。
- `#include`头文件包含指令，使头文件中代码可被程序使用。
- `==运算符（==operator）`相等运算符。检测左侧运算对象是否等于右侧运算对象。
- `!=运算符（!=operator）`不等运算符。检测左侧运算对象是否不等于右侧运算对象。
- `<=运算符（<=operator）`小于等于运算符。检测左侧运算对象是否小于等于右侧运算对象。
- `<运算符（<operator）`小于运算符。检测左侧运算对象是否小于右侧运算对象。
- `>=运算符（>=operator）`大于等于运算符。检测左侧运算对象是否大于等于右侧运算对象。
- `>运算符（>operator）`大于运算符。检测左侧运算对象是否大于右侧运算对象。
